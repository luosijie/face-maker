{"version":3,"sources":["webpack:///./src/app.mpx?4f80","webpack:///./src/app.mpx","webpack:///./node_modules/@mpxjs/api-proxy/src/index.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/transform.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/index.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/ToPromise.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/web.js","webpack:///./node_modules/@mpxjs/api-proxy/src/common/js/utils.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/platform/wxToAli.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/platform/wxToQq.js","webpack:///./node_modules/@mpxjs/api-proxy/src/mini/promisify.js","webpack:///./src/app.mpx?5cf8","webpack:///./src/app.mpx?d7d1"],"names":["install","target","options","usePromise","whiteList","blackList","platform","exclude","custom","fallbackMap","optimize","from","to","__mpx_src_mode__","__mpx_mode__","transedApi","transformApi","promisedApi","promisify","allApi","api","args","apply","e","k","fromMap","genFromMap","joinName","envObj","getEnvObj","env","wxToAliApi","getWxToAliApi","wxToQqApi","getWxToQqApi","platformMap","proxyPlatformMap","needProxy","excludeMap","makeMap","proxyApi","key","length","pop","push","fromTo","error","ToPromise","_resolve","_reject","resolve","reject","res","err","webHandleSuccess","result","success","complete","webHandleFail","fail","changeOpts","updateOrRemoveOpt","extraOpt","opts","myKey","hasOwnProperty","handleSuccess","getOptions","noop","thisObj","_this","cacheSuc","changedRes","call","platforms","wx","warn","msg","console","arr","obj","item","ALI_OBJ","TIPS_NAME","CANVAS_MAP","systemInfo","getSystemInfo","system","SDKVersion","windowHeight","Math","floor","screenHeight","windowWidth","screenWidth","getSystemInfoSync","nextTick","fn","showToast","title","icon","hideToast","showModal","showCancel","undefined","confirmText","cancelText","confirm","alert","showLoading","hideLoading","showActionSheet","itemList","cacheFail","sucRes","index","tapIndex","errMsg","showNavigationBarLoading","hideNavigationBarLoading","setNavigationBarTitle","setNavigationBar","setNavigationBarColor","request","header","headers","status","canIUse","httpRequest","downloadFile","apFilePath","uploadFile","name","setStorageSync","data","removeStorageSync","getStorageSync","saveImageToPhotosAlbum","previewImage","current","idx","urls","compressImage","quality","compressLevel","round","apFilePaths","src","tempFilePath","chooseImage","getLocation","aliType","type","altitude","saveFile","removeSavedFile","filePath","getSavedFileList","fileList","file","resFile","getSavedFileInfo","getFileInfo","addPhoneContact","weChatNumber","setClipboardData","setClipboard","getClipboardData","text","getClipboard","setScreenBrightness","value","getScreenBrightness","brightness","makePhoneCall","phoneNumber","stopAccelerometer","offAccelerometerChange","startAccelerometer","stopCompass","offCompassChange","startCompass","stopGyroscope","offGyroscopeChange","startGyroscope","scanCode","onlyFromCamera","scanType","code","scan","login","authCode","getAuthCode","checkSession","getUserInfo","withCredentials","lang","userInfo","avatar","gender","params","get","getAuthUserInfo","requestPayment","tradeNO","timeStamp","nonceStr","package","signType","paySign","cacheComplete","resultCode","tradePay","createCanvasContext","canvasId","ctx","canvasToTempFilePath","toTempFilePath","canvasPutImageData","putImageData","canvasGetImageData","getImageData","createSelectorQuery","selectorQuery","proxyMethods","cbs","originalMethod","cb","originalExec","exec","originalCb","results","in","QQ_OBJ","requestSubscribeMessage","subscribe","subscribeAppMsg","getMapFromList","list","map","listObj","customBlackList","whiteListMap","blackListMap","promisifyFilter","test","unshift","returned","promise","originSuccess","originFail","__returned"],"mappings":"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","file":"app.js","sourcesContent":["global.currentModuleId\n/* script */\nexport * from \"!!babel-loader!../node_modules/@mpxjs/webpack-plugin/lib/selector?type=script&index=0!./app.mpx\"\n\n/* styles */\nrequire(\"!!../node_modules/@mpxjs/webpack-plugin/lib/extractor?type=styles&index=0!../node_modules/@mpxjs/webpack-plugin/lib/wxss/loader?sourceMap&root=&importLoaders=1&extract=true!../node_modules/@mpxjs/webpack-plugin/lib/style-compiler/index?{\\\"moduleId\\\":\\\"m46b3d8dd\\\",\\\"scoped\\\":false,\\\"sourceMap\\\":true}!../node_modules/@mpxjs/webpack-plugin/lib/selector?type=styles&index=0!./app.mpx\")\n\n/* json */\nrequire(\"!!../node_modules/@mpxjs/webpack-plugin/lib/extractor?type=json&index=0!../node_modules/@mpxjs/webpack-plugin/lib/json-compiler/index?root=!../node_modules/@mpxjs/webpack-plugin/lib/selector?type=json&index=0!./app.mpx\")\n\n/* template */\n","<script>\n  import mpx, { createApp } from '@mpxjs/core'\n  import apiProxy from '@mpxjs/api-proxy'\n\n  mpx.use(apiProxy, { usePromise: true })\n\n  createApp({\n    onLaunch () {\n    }\n  })\n</script>\n\n<style>\n  /*此处编写全局样式*/\n</style>\n\n<script type=\"application/json\">\n  {\n    \"pages\": [\n      \"./pages/index\"\n    ]\n  }\n</script>\n\n<!--也可以通过以下形式用js输出json，便于书写注释和使用条件编译-->\n\n<!--<script name=\"json\">-->\n<!--  // 可以写注释，通过defs注入的常量做一些判断之类的操作-->\n<!--  module.exports = {-->\n<!--    pages: [-->\n<!--      './pages/index'-->\n<!--    ]-->\n<!--  }-->\n<!--</script>-->\n","import transformApi from './mini/transform'\nimport promisify from './mini/promisify'\n\nexport default function install (target, options = {}) {\n  const {\n    usePromise = false, // 是否转为 promise 格式\n    whiteList = [], // 强制变成 promise 格式的 api\n    blackList = [], // 强制不变成 promise 格式的 api\n    platform = {},\n    exclude = ['shareImageMessage'], // 强制不进行代理的api，临时fix微信分享朋友圈白屏\n    custom = {}, // 自定义转化规则\n    fallbackMap = {}, // 对于不支持的API，允许配置一个映射表，接管不存在的API\n    optimize = false // 内部一些实验优化的开关，外部用户慎用\n  } = options\n\n  let { from = '', to = '' } = platform\n  /* eslint-disable camelcase, no-undef */\n  if (typeof __mpx_src_mode__ !== 'undefined') {\n    from = `__mpx_src_mode_${__mpx_src_mode__}__`\n  }\n  if (typeof __mpx_mode__ !== 'undefined') {\n    to = __mpx_mode__\n  }\n  /* eslint-enable */\n\n  const transedApi = transformApi({\n    exclude,\n    from,\n    to,\n    custom,\n    optimize\n  })\n\n  const promisedApi = usePromise ? promisify(transedApi, whiteList, blackList) : {}\n  const allApi = Object.assign({}, transedApi, promisedApi)\n\n  Object.keys(allApi).forEach(api => {\n    try {\n      if (typeof allApi[api] !== 'function') {\n        target[api] = allApi[api]\n        return\n      }\n\n      target[api] = (...args) => {\n        return allApi[api].apply(target, args)\n      }\n    } catch (e) {\n    } // 支付宝不支持重写 call 方法\n  })\n\n  // Fallback Map option\n  Object.keys(fallbackMap)\n    .forEach(k => {\n      if (!target[k]) {\n        target[k] = fallbackMap[k]\n      }\n    })\n}\n","import { error, getEnvObj, genFromMap, makeMap } from '../common/js'\nimport getWxToAliApi from './platform/wxToAli'\nimport getWxToQqApi from './platform/wxToQq'\n\nconst fromMap = genFromMap()\n\nfunction joinName (from = '', to = '') {\n  return `${fromMap[from]}_${to}`\n}\n\nfunction transformApi (options) {\n  const envObj = getEnvObj()\n  const env = __mpx_mode__\n  const wxToAliApi = getWxToAliApi({ optimize: options.optimize })\n  const wxToQqApi = getWxToQqApi({ optimize: options.optimize })\n  const platformMap = {\n    'wx_ali': wxToAliApi,\n    'qq_ali': wxToAliApi,\n    'swan_ali': wxToAliApi,\n    'tt_ali': wxToAliApi,\n    'wx_qq': wxToQqApi\n  }\n  const proxyPlatformMap = {\n    'ali': wxToAliApi,\n    'qq': wxToQqApi\n  }\n  const needProxy = {}\n  const excludeMap = makeMap(options.exclude)\n  const proxyApi = proxyPlatformMap[env] || []\n  // 后续不一定只转换ali，需要基于目标平台决定合并的自定义api集，例如输出快应用时需要定义并合并wxToQaApi\n  Object.keys(envObj).concat(Object.keys(proxyApi)).forEach((key) => {\n    if (!excludeMap[key]) {\n      needProxy[key] = envObj[key] || proxyApi[key]\n    }\n  })\n  const transedApi = Object.create(null)\n  Object.keys(needProxy).forEach(api => {\n    // 非函数不做转换\n    if (typeof needProxy[api] !== 'function') {\n      transedApi[api] = needProxy[api]\n      return\n    }\n\n    transedApi[api] = (...args) => {\n      const to = options.to\n      let from = options.from\n\n      if (args.length > 0) {\n        from = args.pop()\n        if (typeof from !== 'string' || !fromMap[from]) {\n          args.push(from)\n          from = options.from\n        }\n      }\n\n      const fromTo = joinName(from, to)\n      if (options.custom[fromTo] && options.custom[fromTo][api]) {\n        return options.custom[fromTo][api].apply(this, args)\n      } else if (\n        platformMap[fromTo] &&\n        platformMap[fromTo][api]\n      ) {\n        return platformMap[fromTo][api].apply(this, args)\n      } else if (envObj[api]) {\n        return envObj[api].apply(this, args)\n      } else {\n        error(`当前环境不存在 ${api} 方法`)\n      }\n    }\n  })\n\n  return transedApi\n}\n\nexport default transformApi\n","export * from './ToPromise'\nexport * from './web'\nexport * from './utils'\n","class ToPromise {\n  constructor () {\n    this._resolve = null\n    this._reject = null\n  }\n  toPromiseInitPromise () {\n    return new Promise((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n    })\n  }\n  toPromiseResolve (res) {\n    this._resolve(res)\n  }\n  toPromiseReject (err) {\n    this._reject(err)\n  }\n}\n\nexport {\n  ToPromise\n}\n","function webHandleSuccess (result, success, complete) {\n  typeof success === 'function' && success(result)\n  typeof complete === 'function' && complete(result)\n}\n\nfunction webHandleFail (result, fail, complete) {\n  typeof fail === 'function' && fail(result)\n  typeof complete === 'function' && complete(result)\n}\n\nexport {\n  webHandleSuccess,\n  webHandleFail\n}\n","/**\n *\n * @param {Object} options 原参数\n * @param {Object} updateOrRemoveOpt 要修改或者删除的参数\n * @param {Object} extraOpt 额外增加的参数\n * @returns {Object} 返回参数\n * @example\n * changeOpts({ a: 1, b: 2 }, {\n *  a: 'c', // a 变为 c\n *  b: '' // 删除 b\n * }, {\n *  d: 4 // 增加 d\n * })\n */\n\nfunction changeOpts (options, updateOrRemoveOpt = {}, extraOpt = {}) {\n  let opts = {}\n\n  Object.keys(options).forEach(key => {\n    let myKey = updateOrRemoveOpt.hasOwnProperty(key) ? updateOrRemoveOpt[key] : key\n    if (myKey !== '') {\n      opts[myKey] = options[key]\n    }\n  })\n\n  opts = Object.assign({}, opts, extraOpt)\n\n  return opts\n}\n\n/**\n * @param {Object} opts 原参数\n * @param {Function} getOptions 获取 success 回调修改后的参数\n */\nconst handleSuccess = (opts, getOptions = noop, thisObj) => {\n  if (!opts.success) {\n    return\n  }\n  const _this = thisObj || this\n  const cacheSuc = opts.success\n  opts.success = res => {\n    const changedRes = getOptions(res) || res\n    cacheSuc.call(_this, changedRes)\n  }\n}\n\nfunction genFromMap () {\n  const result = {}\n  const platforms = ['wx', 'ali', 'swan', 'qq', 'tt', 'web']\n  platforms.forEach((platform) => {\n    result[`__mpx_src_mode_${platform}__`] = platform\n  })\n  return result\n}\n\nfunction getEnvObj () {\n  if (__mpx_mode__ === 'wx') {\n    return wx\n  } else if (__mpx_mode__ === 'ali') {\n    return my\n  } else if (__mpx_mode__ === 'swan') {\n    return swan\n  } else if (__mpx_mode__ === 'qq') {\n    return qq\n  } else if (__mpx_mode__ === 'tt') {\n    return tt\n  }\n}\n\nfunction warn (msg) {\n  console.warn && console.warn(`[@mpxjs/api-proxy warn]:\\n ${msg}`)\n}\n\nfunction error (msg) {\n  console.error && console.error(`[@mpxjs/api-proxy error]:\\n ${msg}`)\n}\n\nfunction noop () {\n}\n\nfunction makeMap (arr) {\n  return arr.reduce((obj, item) => {\n    obj[item] = true\n    return obj\n  }, {})\n}\n\nexport {\n  changeOpts,\n  handleSuccess,\n  genFromMap,\n  getEnvObj,\n  error,\n  warn,\n  noop,\n  makeMap\n}\n","import { changeOpts, handleSuccess, getEnvObj, error, warn, noop } from '../../common/js'\n\nconst ALI_OBJ = getEnvObj()\nconst TIPS_NAME = '支付宝环境 mpx'\n\n// canvas api 用\nconst CANVAS_MAP = {}\n\n// optimize case avoid call api multi times with getSystemInfoSync\nlet systemInfo\n\nconst getWxToAliApi = ({ optimize = false }) => {\n  return {\n    /**\n     * 基础\n     */\n\n    getSystemInfo (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        res.system = `${res.platform} ${res.system}`\n        res.SDKVersion = ALI_OBJ.SDKVersion\n\n        // 支付宝 windowHeight 可能为 0\n        if (!res.windowHeight) {\n          res.windowHeight = Math.floor(res.screenHeight * res.windowWidth / res.screenWidth) - 50\n        }\n\n        return res\n      })\n\n      ALI_OBJ.getSystemInfo(opts)\n    },\n\n    getSystemInfoSync () {\n      if (optimize) {\n        if (systemInfo) return systemInfo\n      }\n\n      let res = ALI_OBJ.getSystemInfoSync() || {}\n\n      res.system = `${res.platform} ${res.system}`\n      res.SDKVersion = ALI_OBJ.SDKVersion\n\n      // 支付宝 windowHeight 可能为 0\n      if (!res.windowHeight) {\n        res.windowHeight = Math.floor(res.screenHeight * res.windowWidth / res.screenWidth) - 50\n      }\n\n      if (optimize) systemInfo = res\n\n      return res\n    },\n\n    nextTick (fn) {\n      setTimeout(fn)\n    },\n\n    /**\n     * 界面\n     */\n\n    showToast (options = {}) {\n      const opts = changeOpts(options, {\n        title: 'content',\n        icon: 'type'\n      })\n      ALI_OBJ.showToast(opts)\n    },\n\n    hideToast (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideToast 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideToast(options)\n    },\n\n    showModal (options = {}) {\n      let opts\n\n      if (options.showCancel === undefined || options.showCancel) {\n        opts = changeOpts(options, {\n          confirmText: 'confirmButtonText',\n          cancelText: 'cancelButtonText'\n        })\n\n        handleSuccess(opts, res => {\n          return changeOpts(res, undefined, { 'cancel': !res.confirm })\n        })\n\n        ALI_OBJ.confirm(opts)\n      } else {\n        opts = changeOpts(options, {\n          confirmText: 'buttonText'\n        })\n\n        ALI_OBJ.alert(opts)\n      }\n    },\n\n    showLoading (options = {}) {\n      const opts = changeOpts(options, {\n        title: 'content'\n      })\n      ALI_OBJ.showLoading(opts)\n    },\n\n    hideLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideLoading(options)\n    },\n\n    showActionSheet (options = {}) {\n      const opts = changeOpts(options, {\n        itemList: 'items'\n      })\n\n      const cacheSuc = opts.success || noop\n      const cacheFail = opts.fail || noop\n\n      opts.success = function (res) {\n        let sucRes = changeOpts(res, {\n          index: 'tapIndex'\n        })\n        if (sucRes.tapIndex === -1) {\n          cacheFail.call(this, {\n            errMsg: 'showActionSheet:fail cancel'\n          })\n        } else {\n          cacheSuc.call(this, sucRes)\n        }\n      }\n\n      ALI_OBJ.showActionSheet(opts)\n    },\n\n    showNavigationBarLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.showNavigationBarLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.showNavigationBarLoading(options)\n    },\n\n    hideNavigationBarLoading (options = {}) {\n      if (options.success || options.fail || options.complete) {\n        warn(`${TIPS_NAME}.hideNavigationBarLoading 不支持 success/fail/complete 参数`)\n      }\n      ALI_OBJ.hideNavigationBarLoading(options)\n    },\n\n    setNavigationBarTitle (options = {}) {\n      ALI_OBJ.setNavigationBar(options)\n    },\n\n    setNavigationBarColor (options = {}) {\n      ALI_OBJ.setNavigationBar(options)\n    },\n\n    /**\n     * 网络\n     */\n\n    request (options = {}) {\n      const opts = changeOpts(options, {\n        header: 'headers'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, {\n          headers: 'header',\n          status: 'statusCode'\n        })\n      })\n\n      // request 在 1.11.0 以上版本才支持\n      // httpRequest 即将被废弃，钉钉端仍需要使用\n      if (ALI_OBJ.canIUse('request')) {\n        return ALI_OBJ.request(opts)\n      } else {\n        return ALI_OBJ.httpRequest(opts)\n      }\n    },\n\n    downloadFile (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'tempFilePath' })\n      })\n\n      return ALI_OBJ.downloadFile(opts)\n    },\n\n    uploadFile (options = {}) {\n      const opts = changeOpts(options, { name: 'fileName' })\n\n      return ALI_OBJ.uploadFile(opts)\n    },\n\n    /**\n     * 数据缓存\n     */\n\n    setStorageSync (key, data) {\n      ALI_OBJ.setStorageSync({\n        key,\n        data\n      })\n    },\n\n    removeStorageSync (key) {\n      ALI_OBJ.removeStorageSync({\n        key\n      })\n    },\n\n    getStorageSync (key) {\n      return ALI_OBJ.getStorageSync({\n        key\n      }).data\n    },\n\n    /**\n     * 媒体\n     */\n\n    saveImageToPhotosAlbum (key) {\n      warn(`如果想要保存在线图片链接，可以直接使用 ${TIPS_NAME}.saveImage`)\n    },\n\n    previewImage (options = {}) {\n      const opts = changeOpts(options)\n\n      if (opts.current) {\n        let idx = options.urls.indexOf(opts.current)\n        opts.current = idx !== -1 ? idx : 0\n      }\n\n      ALI_OBJ.previewImage(opts)\n    },\n\n    compressImage (options = {}) {\n      const opts = changeOpts(options, {\n        quality: ''\n      }, {\n        compressLevel: Math.round(options.quality / 100 * 4), // 支付宝图片压缩质量为 0 ~ 4，微信是 0 ~ 100\n        apFilePaths: [options.src]\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(\n          res,\n          { apFilePaths: '' },\n          { tempFilePath: res.apFilePaths[0] }\n        )\n      })\n\n      ALI_OBJ.compressImage(opts)\n    },\n\n    chooseImage (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePaths: 'tempFilePaths' })\n      })\n\n      ALI_OBJ.chooseImage(opts)\n    },\n\n    /**\n     * 位置\n     */\n\n    getLocation (options = {}) {\n      if (options.aliType === undefined && options.type) {\n        warn(`如果要针对支付宝设置 ${TIPS_NAME}.getLocation 中的 type 参数，请使用 aliType, 取值为 0~3`)\n        options.aliType = 0\n      }\n      if (options.altitude) {\n        error(`支付宝 ${TIPS_NAME}.getLocation 不支持获取高度信息`)\n      }\n\n      const opts = changeOpts(options, {\n        type: '',\n        aliType: 'type'\n      })\n\n      ALI_OBJ.getLocation(opts)\n    },\n\n    /**\n     * 文件\n     */\n\n    saveFile (options = {}) {\n      const opts = changeOpts(options, {\n        tempFilePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'savedFilePath' })\n      })\n\n      ALI_OBJ.saveFile(opts)\n    },\n\n    removeSavedFile (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { apFilePath: 'savedFilePath' })\n      })\n\n      ALI_OBJ.removeSavedFile(opts)\n    },\n\n    getSavedFileList (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      handleSuccess(opts, res => {\n        if (res.fileList) {\n          res.fileList.forEach(file => {\n            let resFile = changeOpts(file, {\n              apFilePath: 'filePath'\n            })\n            file = resFile\n          })\n        }\n        return res\n      })\n\n      ALI_OBJ.getSavedFileList(opts)\n    },\n\n    getSavedFileInfo (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      ALI_OBJ.getSavedFileInfo(opts)\n    },\n\n    getFileInfo (options = {}) {\n      const opts = changeOpts(options, {\n        filePath: 'apFilePath'\n      })\n\n      ALI_OBJ.getFileInfo(opts)\n    },\n\n    /**\n     * 设备\n     */\n\n    addPhoneContact (options = {}) {\n      const opts = changeOpts(options, {\n        weChatNumber: 'alipayAccount'\n      })\n\n      ALI_OBJ.addPhoneContact(opts)\n    },\n\n    setClipboardData (options = {}) {\n      const opts = changeOpts(options, {\n        data: 'text'\n      })\n\n      ALI_OBJ.setClipboard(opts)\n    },\n\n    getClipboardData (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { text: 'data' })\n      })\n\n      ALI_OBJ.getClipboard(opts)\n    },\n\n    setScreenBrightness (options = {}) {\n      const opts = changeOpts(options, {\n        value: 'brightness'\n      })\n\n      ALI_OBJ.setScreenBrightness(opts)\n    },\n\n    getScreenBrightness (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { brightness: 'value' })\n      })\n\n      ALI_OBJ.getScreenBrightness(opts)\n    },\n\n    makePhoneCall (options = {}) {\n      const opts = changeOpts(options, {\n        phoneNumber: 'number'\n      })\n\n      ALI_OBJ.makePhoneCall(opts)\n    },\n\n    stopAccelerometer (options = {}) {\n      ALI_OBJ.offAccelerometerChange(options)\n    },\n\n    startAccelerometer () {\n      warn(`支付宝加速计不需要使用 ${TIPS_NAME}.startAccelerometer 开始，可以直接在 ${TIPS_NAME}.onAccelerometerChange 中监听`)\n    },\n\n    stopCompass (options = {}) {\n      ALI_OBJ.offCompassChange(options)\n    },\n\n    startCompass () {\n      warn(`支付宝罗盘不需要使用 ${TIPS_NAME}.startCompass 开始，可以直接在 ${TIPS_NAME}.onCompassChange 中监听`)\n    },\n\n    stopGyroscope (options = {}) {\n      ALI_OBJ.offGyroscopeChange(options)\n    },\n\n    startGyroscope () {\n      warn(`支付宝陀螺仪不需要使用 ${TIPS_NAME}.startGyroscope 开始，可以直接在 ${TIPS_NAME}.onGyroscopeChange 中监听`)\n    },\n\n    scanCode (options = {}) {\n      const opts = changeOpts(options, {\n        onlyFromCamera: 'hideAlbum',\n        scanType: 'type'\n      })\n\n      if (opts.type) {\n        switch (opts.type) {\n          case 'barCode':\n            opts.type = 'bar'\n            break\n          case 'qrCode':\n            opts.type = 'qr'\n            break\n          default:\n            error(`${TIPS_NAME}.scanCode 只支持扫描条形码和二维码，请将 type 设置为 barCode/qrCode`)\n            opts.type = 'qr'\n            break\n        }\n      }\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { code: 'result' })\n      })\n\n      ALI_OBJ.scan(opts)\n    },\n\n    /**\n     * 开放接口\n     */\n\n    login (options = {}) {\n      const opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        return changeOpts(res, { authCode: 'code' })\n      })\n\n      ALI_OBJ.getAuthCode(opts)\n    },\n\n    checkSession () {\n      warn(`支付宝不支持 ${TIPS_NAME}.checkSession 检查登录过期`)\n    },\n\n    getUserInfo (options = {}) {\n      if (options.withCredentials === true) {\n        warn(`支付宝不支持在 ${TIPS_NAME}.getUserInfo 使用 withCredentials 参数中获取等敏感信息`)\n      }\n      if (options.lang) {\n        warn(`支付宝不支持在 ${TIPS_NAME}.getUserInfo 中使用 lang 参数`)\n      }\n\n      let opts = changeOpts(options)\n\n      handleSuccess(opts, res => {\n        let userInfo = changeOpts(res, { avatar: 'avatarUrl' }, { gender: 0 })\n        const params = ['country', 'province', 'city', 'language']\n\n        params.forEach(key => {\n          Object.defineProperty(userInfo, key, {\n            get () {\n              warn(`支付宝 ${TIPS_NAME}.getUserInfo 不能获取 ${key}`)\n              return ''\n            }\n          })\n        })\n\n        return {\n          userInfo\n        }\n      })\n\n      ALI_OBJ.getAuthUserInfo(opts)\n    },\n\n    requestPayment (options = {}) {\n      if (!options.tradeNO) {\n        error(`请在支付函数 ${TIPS_NAME}.requestPayment 中添加 tradeNO 参数用于支付宝支付`)\n      }\n\n      let opts = changeOpts(options, {\n        timeStamp: '',\n        nonceStr: '',\n        package: '',\n        signType: '',\n        paySign: ''\n      })\n\n      const cacheSuc = opts.success || noop\n      const cacheFail = opts.fail || noop\n\n      // 抹平用微信的 complete\n      if (typeof opts.complete === 'function') {\n        const cacheComplete = opts.complete\n        opts.complete = function (res) {\n          if (+res.resultCode === 9000) {\n            res.errMsg = 'requestPayment:ok'\n            cacheComplete.call(this, res)\n          }\n        }\n      }\n\n      opts.success = function (res) {\n        if (+res.resultCode === 9000) {\n          cacheSuc.call(this, res)\n        } else {\n          cacheFail.call(this, res)\n        }\n      }\n\n      ALI_OBJ.tradePay(opts)\n    },\n\n    /**\n     * 画布\n     */\n\n    createCanvasContext (canvasId = {}) {\n      let ctx = ALI_OBJ.createCanvasContext(canvasId)\n\n      CANVAS_MAP[canvasId] = ctx\n\n      return ctx\n    },\n\n    canvasToTempFilePath (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.toTempFilePath 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      handleSuccess(opts, res => {\n        return changeOpts(\n          res,\n          { apFilePath: 'tempFilePath' },\n          { errMsg: 'canvasToTempFilePath:ok' }\n        )\n      })\n\n      ctx.toTempFilePath(opts)\n    },\n\n    canvasPutImageData (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.putImageData 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      // success 里面的 this 指向参数 options\n      handleSuccess(opts, res => {\n        return changeOpts(res, undefined, { errMsg: 'canvasPutImageData:ok' }\n        )\n      }, options)\n\n      ctx.putImageData(opts)\n    },\n\n    canvasGetImageData (options = {}) {\n      if (!CANVAS_MAP[options.canvasId]) {\n        error(`支付宝调用 ${TIPS_NAME}.getImageData 方法之前需要先调用 ${TIPS_NAME}.createCanvasContext 创建 context`)\n        return\n      }\n\n      const opts = changeOpts(options, { canvasId: '' })\n      const ctx = CANVAS_MAP[options.canvasId]\n\n      // success 里面的 this 指向参数 options\n      handleSuccess(opts, undefined, options)\n\n      ctx.getImageData(opts)\n    },\n\n    /**\n     * WXML\n     */\n\n    createSelectorQuery (options = {}) {\n      const selectorQuery = ALI_OBJ.createSelectorQuery(options)\n      const proxyMethods = ['boundingClientRect', 'scrollOffset']\n      const cbs = []\n      proxyMethods.forEach((name) => {\n        const originalMethod = selectorQuery[name]\n        selectorQuery[name] = function (cb = noop) {\n          cbs.push(cb)\n          return originalMethod.call(this)\n        }\n      })\n\n      const originalExec = selectorQuery.exec\n      selectorQuery.exec = function (originalCb = noop) {\n        const cb = function (results) {\n          results.forEach((item, index) => {\n            cbs[index](item)\n          })\n          originalCb(results)\n        }\n        return originalExec.call(this, cb)\n      }\n\n      selectorQuery.in = function () {\n        return this\n      }\n\n      return selectorQuery\n    }\n  }\n}\n\nexport default getWxToAliApi\n","import { changeOpts, getEnvObj } from '../../common/js'\n\nconst QQ_OBJ = getEnvObj()\n\nconst getWxToQqApi = ({ optimize = false }) => {\n  return {\n    /**\n     * 订阅消息\n     * @param options\n     */\n    requestSubscribeMessage (options = {}) {\n      const opts = changeOpts(options, undefined, {\n        subscribe: true\n      })\n      QQ_OBJ.subscribeAppMsg(opts)\n    }\n  }\n}\n\nexport default getWxToQqApi\n","import { genFromMap, getEnvObj, noop } from '../common/js'\n\nconst envObj = getEnvObj()\n\n// 特别指定的不进行Promise封装的方法\nconst blackList = [\n  'clearStorage',\n  'hideToast',\n  'hideLoading',\n  'drawCanvas',\n  'canIUse',\n  'stopRecord',\n  'pauseVoice',\n  'stopVoice',\n  'pauseBackgroundAudio',\n  'stopBackgroundAudio',\n  'showNavigationBarLoading',\n  'hideNavigationBarLoading',\n  'createAnimation',\n  'createSelectorQuery',\n  'hideKeyboard',\n  'stopPullDownRefresh',\n  'createWorker',\n  'pageScrollTo',\n  'reportAnalytics',\n  'getMenuButtonBoundingClientRect'\n]\n\nfunction getMapFromList (list) {\n  if (list && list.length) {\n    const map = {}\n    list.forEach((item) => {\n      map[item] = true\n    })\n    return map\n  }\n}\n\nfunction promisify (listObj, whiteList, customBlackList) {\n  const result = {}\n  const whiteListMap = getMapFromList(whiteList)\n  const blackListMap = getMapFromList(blackList.concat(customBlackList))\n  const fromMap = genFromMap()\n\n  function promisifyFilter (key) {\n    if (whiteListMap && whiteListMap[key] !== undefined) {\n      return !!whiteListMap[key]\n    } else {\n      return !(blackListMap[key] || // 特别指定的方法\n        /^get\\w*Manager$/.test(key) || // 获取manager的api\n        /^create\\w*Context$/.test(key) || // 创建上下文相关api\n        /^(on|off)/.test(key) || // 以 on* 或 off开头的方法\n        /\\w+Sync$/.test(key) // 以Sync结尾的方法\n      )\n    }\n  }\n\n  Object.keys(listObj).forEach(key => {\n    if (typeof listObj[key] !== 'function') {\n      return\n    }\n\n    result[key] = function (...args) {\n      if (promisifyFilter(key)) {\n        if (!args[0] || fromMap[args[0]]) {\n          args.unshift({ success: noop, fail: noop })\n        }\n        const obj = args[0]\n        let returned\n        const promise = new Promise((resolve, reject) => {\n          const originSuccess = obj.success\n          const originFail = obj.fail\n          obj.success = function (res) {\n            originSuccess && originSuccess.call(this, res)\n            resolve(res)\n          }\n          obj.fail = function (e) {\n            originFail && originFail.call(this, e)\n            reject(e)\n          }\n          returned = listObj[key].apply(envObj, args)\n        })\n        promise.__returned = returned\n        return promise\n      } else {\n        return listObj[key].apply(envObj, args)\n      }\n    }\n  })\n\n  return result\n}\n\nexport default promisify\n","// removed by extractor","// removed by extractor"],"sourceRoot":""}